"use strict";(self.webpackChunkd_note=self.webpackChunkd_note||[]).push([[7858],{9523:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>a});var i=t(5893),o=t(1151);const c={},l="\u65b9\u5757",r={id:"notes/\u7b14\u8bb0/\u6846\u67b6/Minecraft/Forge/1.\u65b9\u5757",title:"\u65b9\u5757",description:"\u65b9\u5757\u5b9e\u4f53",source:"@site/docs/notes/\u7b14\u8bb0/\u6846\u67b6/Minecraft/Forge/1.\u65b9\u5757.md",sourceDirName:"notes/\u7b14\u8bb0/\u6846\u67b6/Minecraft/Forge",slug:"/notes/\u7b14\u8bb0/\u6846\u67b6/Minecraft/Forge/1.\u65b9\u5757",permalink:"/DNote/docs/notes/\u7b14\u8bb0/\u6846\u67b6/Minecraft/Forge/1.\u65b9\u5757",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"frameworkSidebar",previous:{title:"\u5fae\u5c0f\u7684\u5f00\u59cb",permalink:"/DNote/docs/notes/\u7b14\u8bb0/\u6846\u67b6/Minecraft/Forge/0.2.\u5fae\u5c0f\u7684\u5f00\u59cb"},next:{title:"\u7269\u54c1",permalink:"/DNote/docs/notes/\u7b14\u8bb0/\u6846\u67b6/Minecraft/Forge/2.\u7269\u54c1"}},s={},a=[{value:"\u65b9\u5757\u5b9e\u4f53",id:"\u65b9\u5757\u5b9e\u4f53",level:2},{value:"\u6570\u636e\u540c\u6b65",id:"\u6570\u636e\u540c\u6b65",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"\u65b9\u5757",children:"\u65b9\u5757"}),"\n",(0,i.jsx)(n.h2,{id:"\u65b9\u5757\u5b9e\u4f53",children:"\u65b9\u5757\u5b9e\u4f53"}),"\n",(0,i.jsx)(n.h3,{id:"\u6570\u636e\u540c\u6b65",children:"\u6570\u636e\u540c\u6b65"}),"\n",(0,i.jsxs)(n.p,{children:["\u65b9\u5757\u5b9e\u4f53\u81ea\u5e26\u7684\u6570\u636e\u540c\u6b65\u662f\u4ece",(0,i.jsx)(n.strong,{children:"\u670d\u52a1\u7aef"}),"\u53d1\u5411",(0,i.jsx)(n.strong,{children:"\u5ba2\u6237\u7aef"}),"\u7684"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5728\u6e38\u620f\u65f6","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"getUpdatePacket"}),"\uff1a\u5199\u6570\u636e","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u4f7f\u7528",(0,i.jsx)(n.code,{children:"ClientboundBlockEntityDataPacket.create(this)"}),"\u4ece",(0,i.jsx)(n.code,{children:"getUpdateTag"}),"\u83b7\u53d6\u6570\u636e"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"load"}),"\uff1a\u8bfb\u6570\u636e"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5728\u533a\u5757\u52a0\u8f7d\u65f6","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"getUpdateTag"}),"\uff1a\u5199\u6570\u636e"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"handleUpdateTag"}),"\uff1a\u8bfb\u6570\u636e","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"super.handleUpdateTag"}),"\u76f4\u63a5\u8c03\u7528",(0,i.jsx)(n.code,{children:"load"}),"\u5904\u7406"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t,{markdown:"1",children:[(0,i.jsx)("summary",{children:"ClientboundBlockEntityDataPacket"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"package net.minecraft.network.protocol.game;\n\npublic class ClientboundBlockEntityDataPacket implements Packet<ClientGamePacketListener> {\n    private final BlockPos pos;\n    /** Used only for vanilla block entities */\n    private final BlockEntityType<?> type;\n    @Nullable\n    private final CompoundTag tag;\n\n    //\u5982\u679c\u4f60\u6709\u7279\u6b8a\u9700\u6c42\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\n    public static ClientboundBlockEntityDataPacket create(BlockEntity pBlockEntity, Function<BlockEntity, CompoundTag> pTagGetter) {\n       return new ClientboundBlockEntityDataPacket(pBlockEntity.getBlockPos(), pBlockEntity.getType(), pTagGetter.apply(pBlockEntity));\n    }\n\n    //\u8fd9\u5c31\u662f\u6211\u4eec\u4f7f\u7528\u7684\u65b9\u6cd5\n    public static ClientboundBlockEntityDataPacket create(BlockEntity pBlockEntity) {\n       return create(pBlockEntity, BlockEntity::getUpdateTag);\n    }\n\n    private ClientboundBlockEntityDataPacket(BlockPos pPos, BlockEntityType<?> pType, CompoundTag pTag) {\n       this.pos = pPos;\n       this.type = pType;\n       this.tag = pTag.isEmpty() ? null : pTag;\n    }\n\n    public ClientboundBlockEntityDataPacket(FriendlyByteBuf pBuffer) {\n       this.pos = pBuffer.readBlockPos();\n       this.type = pBuffer.readById(BuiltInRegistries.BLOCK_ENTITY_TYPE);\n       this.tag = pBuffer.readNbt();\n    }\n\n    //\u7701\u7565\n    //\u2026\u2026\n}\n"})})]})]})}function p(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>l});var i=t(7294);const o={},c=i.createContext(o);function l(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);